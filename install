#!/bin/bash

DOTFILEDIR=$(cd $(dirname $0);pwd)

function link_conf() {
	source=$1
	target=$2
	sudo=$3

	[ -d $(dirname $2) ] || mkdir -p $(dirname $2)
	[ -e $2 ] && return

	if [ -z $sudo ]; then
		echo "Installing ${target}"
		ln -s $source $target
	else
		sudo -k
		echo "Installing (sudo) ${target}"
		sudo ln -s $source $target
	fi
}


for script in "${DOTFILEDIR}"/*/install; do
	[ -x "${script}" ] && source "${script}" $(dirname "${script}")
done
